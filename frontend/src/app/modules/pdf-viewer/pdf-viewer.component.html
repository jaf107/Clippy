<app-navbar></app-navbar>
<div class="container-fluid">
   <div class="left" [ngStyle]="{'width': summarizerOn == true ? '70%':'96%'}" *ngIf="!graphOn">
      <div class="toolbar">
         <div class="row">
            <div class="col-5">
               <input class="page" type="number" [(ngModel)]="page" (change)="goToPage()">
               <span style="color: white"> ({{page}} of {{totalPages}})</span>
            </div>
            <div class="col"></div>
            <div class="col">
               <button (click)="zoomIn()" title="Zoom in">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white"
                     class="bi bi-zoom-in" viewBox="0 0 16 16">
                     <path fill-rule="evenodd"
                        d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z" />
                     <path
                        d="M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z" />
                     <path fill-rule="evenodd"
                        d="M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z" />
                  </svg>
               </button>
               <button (click)="zoomOut()" title="Zoom out">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white"
                     class="bi bi-zoom-out" viewBox="0 0 16 16">
                     <path fill-rule="evenodd"
                        d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z" />
                     <path
                        d="M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z" />
                     <path fill-rule="evenodd" d="M3 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z" />
                  </svg>
               </button>
            </div>
            <div class="col-4"></div>
            <div class="col">
               <button (click)="openFileDialog()" title="Upload pdf">
                  <input id="upload" type="file" style="display:none" (change)="uploadPdf($event)" accept="application/pdf">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16">
                     <path d="M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z"/>
                     <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>
                   </svg>
               </button>
               <button (click)="downloadPdf()" title="Download">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-file-earmark-arrow-down" viewBox="0 0 16 16">
                     <path d="M8.5 6.5a.5.5 0 0 0-1 0v3.793L6.354 9.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8.5 10.293V6.5z"/>
                     <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>
                   </svg>
               </button>
            </div>
         </div>
      </div>
      <pdf-viewer 
      [src]="pdfPath" 
      [zoom]="zoom" 
      [page]="page" 
      [show-all]="true"
      (after-load-complete)="loadComplete($event)" 
      [render-text]="true" 
      [original-size]="false"
      style="width: 50rem; height: 90vh; margin: 0 auto; overflow: scroll;"
      ></pdf-viewer>
   </div>
   <div class="leftGraph" [ngStyle]="{'visibility': graphOn == true ? 'visible':'hidden'}">
      <div class="graphCanvas">
         <app-knowledge-graph></app-knowledge-graph>
      </div>
   </div>
   <div class="middle" *ngIf="summarizerOn" [ngStyle]="{'width': summarizerOn == true ? '27%' : '0%'}">
      <app-summarizer></app-summarizer>
   </div>
   <div class="right">
      <app-sidebar></app-sidebar>
   </div>
</div>
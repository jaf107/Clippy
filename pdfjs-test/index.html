<!DOCTYPE html>
<html>
  <head>
    <title>Render PDF Page Area with PDF.js</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.min.js"></script>
  </head>
  <body>
    <h1>This is the cropped part of the pdf</h1>
    <canvas
      id="pdf-canvas"
      style="border: 2px solid black; overflow: scroll"
    ></canvas>

    <script>
      // load the PDF file
      const pdfUrl = "sample6.pdf";
      pdfjsLib.getDocument(pdfUrl).promise.then((pdfDoc) => {
        // get the page to be rendered
        const pageNumber = 2;
        let scalingFactor = 2;
        pdfDoc.getPage(pageNumber).then((page) => {
          // define the viewport for the specific area to be rendered
          const viewport = page.getViewport({ scale: 1.0 });

          // sample-6 er pdf 3 no page
          // const region = {
          //   x:  35,
          //   y:750,
          //   width: 580,
          //   height: (750 -  572.261) * scalingFactor + 30,
          // };

          //  1st col er x: 25
          // 2nd col er x: 300

          // 1st col er height: 750

          // Table
          // const region = {
          //   x: 25,
          //   y:  354.249 + 20 ,
          //   width: 580,
          //   height: (200) * scalingFactor,
          // };

          // image
          // const region = {
          //   x: 280,
          //   y:  698.725 + 30 ,
          //   width: 580,
          //   height: (200) * scalingFactor,
          // };

          const region = {
            x: 280,
            y: 750,
            width: 698.725,
            height: 179.56600000000003 * scalingFactor,
          };
          viewport.width = region.width;
          viewport.height = region.height;
          viewport.transform = [
            scalingFactor,
            0,
            0,
            -scalingFactor,
            -region.x * scalingFactor,
            region.y * scalingFactor,
          ];

          // render the specific area of the page
          const canvas = document.getElementById("pdf-canvas");
          canvas.width = region.width;
          canvas.height = region.height;
          const ctx = canvas.getContext("2d");
          // ctx.rotate(Math.PI * 2);
          const renderTask = page.render({ canvasContext: ctx, viewport });
          renderTask.promise.then(() => {
            console.log("Rendering complete");
          });
        });
      });
    </script>
  </body>
</html>

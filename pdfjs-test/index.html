<!DOCTYPE html>
<html>
  <head>
    <title>Render PDF Page Area with PDF.js</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.min.js"></script>
  </head>
  <body>
    <h1>This is the cropped part of the pdf</h1>
    <canvas
      id="pdf-canvas"
      style="border: 2px solid black; overflow: scroll"
    ></canvas>

    <script>
      // load the PDF file
      const pdfUrl = "sample12.pdf";
      pdfjsLib.getDocument(pdfUrl).promise.then((pdfDoc) => {
        // get the page to be rendered
        const pageNumber = 12;
        let scalingFactor = 2;
        pdfDoc.getPage(pageNumber).then((page) => {
          // define the viewport for the specific area to be rendered
          const viewport = page.getViewport({ scale: 1.0 });
          const region = {
            x: 53.798,
            y: 713.793,
            width: 470,
            height: 122.25099999999958 * scalingFactor,
          };
          viewport.width = region.width;
          viewport.height = region.height;
          viewport.transform = [
            scalingFactor,
            0,
            0,
            -scalingFactor,
            -region.x * scalingFactor,
            region.y * scalingFactor,
          ];

          // render the specific area of the page
          const canvas = document.getElementById("pdf-canvas");
          canvas.width = region.width;
          canvas.height = region.height;
          const ctx = canvas.getContext("2d");
          // ctx.rotate(Math.PI * 2);
          const renderTask = page.render({ canvasContext: ctx, viewport });
          renderTask.promise.then(() => {
            console.log("Rendering complete");
          });
        });
      });
    </script>
  </body>
</html>

<!DOCTYPE html>
<html>
  <head>
    <title>Render PDF Page Area with PDF.js</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.min.js"></script>
  </head>
  <body>
    <h1>This is the cropped part of the pdf</h1>
    <canvas id="pdf-canvas" style="border: 2px solid black"></canvas>

    <script>
      // load the PDF file
      const pdfUrl = "sample3.pdf";
      pdfjsLib.getDocument(pdfUrl).promise.then((pdfDoc) => {
        // get the page to be rendered
        const pageNumber = 5;
        pdfDoc.getPage(pageNumber).then((page) => {
          // define the viewport for the specific area to be rendered
          const viewport = page.getViewport({ scale: 1.0 });
          const region = {
            x: 50.112,
            y: 720.037,
            width: 400,
            height: 300,
          };
          viewport.width = region.width;
          viewport.height = region.height;
          viewport.transform = [2, 0, 0, -2, -region.x * 2, region.y * 2];

          // render the specific area of the page
          const canvas = document.getElementById("pdf-canvas");
          canvas.width = region.width;
          canvas.height = region.height;
          const ctx = canvas.getContext("2d");
          // ctx.rotate(Math.PI * 2);
          const renderTask = page.render({ canvasContext: ctx, viewport });
          renderTask.promise.then(() => {
            console.log("Rendering complete");
          });
        });
      });
    </script>
  </body>
</html>
